// ----------------------------------------------------------------------------
// Copyright (c) 2015, Michael Mitterer (office@mikemitterer.at),
// IT-Consulting and Development Limited.
//
// All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//

//@import "../../packages/mdl/assets/themes/grey-orange/material-design-lite";
//@import "../../packages/mdl/assets/styles/material-design-lite";

@import "../../packages/mdl/assets/styles/variables/variables";
@import "../../packages/mdl/assets/styles/mixins/mixins";

@import "components";
@import "dialogs";
@import "layout";

$properties-vertical-distance: 12px !default;
$properties-width: 264px !default;

@mixin properties-height($header-height) {
    $footer-padding: $application-footer-padding * 2;
    $vertical-distance: $properties-vertical-distance * 2;

    @if $application-footer-height == 0 or $application-footer-height == 0px {
        $footer-padding: $application-footer-padding;
    }

    $height: #{$application-footer-height + $footer-padding + $header-height} - #{($vertical-distance)};

    /* (footer + footer-padding + header) - (properties-vertical-distance * 2) */
    min-height : calc(100% - #{$height});
    //height: calc(100% - #{$height});
}

.application {
    .mdl-layout__header-row {
        .mdl-menu {
            .mdl-switch {
                margin: 0 16px 0 16px;
            }
        }
    }
}
.application-section {
    margin-top : 24px;

    &__has-properties {
        box-sizing      : border-box;

        flex-grow : 1;
        width: 100%;

        display         : flex;
        flex-direction  : row;
        flex-wrap       : nowrap;
        justify-content : flex-start; // ⇾
        align-content   : stretch; // ||
        align-items     : stretch; // ↓

        height: 100%;

        transition : all 0.5s ease-in-out;
        .debug & { border: 1px solid yellow; }

        section.main {
            flex-grow : 1;

            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: flex-start; // ⇾
            align-content: flex-start; // ||
            align-items: flex-start; // ↓

            //margin-right: 24px;

            .debug & { border: 1px solid red; }
        }

        aside.properties {
            box-sizing                : border-box;

            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            justify-content: flex-start; // ↓
            align-content: space-between; // =
            align-items: flex-start; // ⇾

            overflow                  : scroll;

            width: 0;
            opacity                   : 0;

            padding                   : 0;
            margin-right               : -24px;
            border-top-left-radius    : 3px;
            border-bottom-left-radius : 3px;

            @include properties-height($layout-header-desktop-row-height);

            .is-small-screen & , &--sticky {
                z-index: 2;
                position: fixed;

                top: $layout-header-desktop-row-height + $properties-vertical-distance;
                right: 0;

                @include properties-height($layout-header-desktop-row-height);
            }

            .is-small-screen & {
                top: $layout-mobile-header-height + $properties-vertical-distance;

                @include properties-height($layout-mobile-header-height);
            }

            .show-properties &, .show-properties--permanent & {
                width      : $properties-width;
                min-width  : $properties-width;
                max-width  : $properties-width;

                @include shadow-2dp();
            }
            .show-properties--permanent & {
                opacity: 1;
            }

            :first-child {
                flex-grow: 1;
            }

            .mdl-checkbox {
                margin: 12px;
            }
        }
    }

    &--home {
        h1 { color : lightcoral; }
    }

    &--view1 {
        h1 { color : blue; }

        .mdl-card {
            .mdl-card__title { background-color : darkslateblue; }

            &.demo-card-wide {
                width: 100%;
                max-width : 600px;

                .is-small-screen & {
                    width : auto;
                }
            }
        }

    }
    &--view2 {
        h1 { color : green; }
    }
    &--view3 {
        h1 { color : purple; }
    }
}

